<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="BoleBiljart.Pages.UserStatsPage"
             Title="Persoonlijke statistieken"
             x:Name="thisPage"
             xmlns:vm="clr-namespace:BoleBiljart.Viewmodels"
             xmlns:material="http://schemas.enisn-projects.io/dotnet/maui/uraniumui/material"
             xmlns:fa="clr-namespace:UraniumUI.Icons.FontAwesome;assembly=UraniumUI.Icons.FontAwesome"
             xmlns:navigation="clr-namespace:BoleBiljart.Navigation"
             x:DataType="vm:UserStatsViewModel">

    <ContentPage.Content>
        <Grid RowDefinitions="*, Auto">
            <ScrollView Grid.Row="0">
                <VerticalStackLayout VerticalOptions="Start" Padding="10" Spacing="5">
                    <Label Text="Persoonlijke info" FontAttributes="Bold" FontSize="Medium" Margin="0,10,0,0"/>
                    <Border Padding="8">
                        <Grid ColumnDefinitions="90, 40, *" RowDefinitions="Auto, Auto, Auto" RowSpacing="10">
                            <Border Style="{StaticResource Avatar}" Grid.Row="0" Grid.Column="0">
                                <Image Source="{Binding AvatarImageSource}" Aspect="AspectFill"/>
                            </Border>
                            <Label Text="{Binding MainUser.Username}" FontAttributes="Bold" Grid.Row="0" Grid.Column="2" HorizontalOptions="Start"/>
                            <Label Text="Email" Grid.Row="1" FontAttributes="Bold" HorizontalOptions="Center" Grid.Column="0" FontSize="Default"/>
                            <Label Text="{Binding MainUser.Email}" Grid.Row="1" Grid.Column="2" HorizontalOptions="Start" FontSize="Default"/>
                        </Grid>
                    </Border>

                    <Label Text="Spelstatistieken" FontAttributes="Bold" FontSize="Medium" Margin="0,10,0,0"/>

                    <Border Padding="8">
                        <Grid ColumnDefinitions="*,*, *" RowDefinitions="Auto, Auto" RowSpacing="10">
                            <VerticalStackLayout Grid.Column="0" Grid.Row="0" HorizontalOptions="Center">
                                <Label Text="{Binding MainUser.GamesPlayed}" HorizontalOptions="Center" TextColor="{StaticResource CustomPurpleLight}"/>
                                <Label Text="Gespeeld" FontSize="Default" HorizontalOptions="Center"/>
                            </VerticalStackLayout>
                            <VerticalStackLayout Grid.Column="1" Grid.Row="0" HorizontalOptions="Center">
                                <Label Text="{Binding MainUser.GamesWon}" HorizontalOptions="Center" TextColor="{StaticResource CustomGreen}"/>
                                <Label Text="Gewonnen" FontSize="Default" HorizontalOptions="Center"/>
                            </VerticalStackLayout>
                            <VerticalStackLayout Grid.Column="2" Grid.Row="0" HorizontalOptions="Center">
                                <Label Text="{Binding MainUser.GamesLost}" HorizontalOptions="Center" TextColor="{StaticResource CustomRed}"/>
                                <Label Text="Verloren" FontSize="Default" HorizontalOptions="Center"/>
                            </VerticalStackLayout>
                        </Grid>
                    </Border>
                    <Label Text="Gemiddelde prestaties" FontAttributes="Bold" FontSize="Medium" Margin="0,10,0,0"/>
                    <Border Padding="8">
                        <Grid ColumnDefinitions="*, *" RowDefinitions="Auto" RowSpacing="2">
                            <VerticalStackLayout Grid.Column="0" Grid.Row="0" HorizontalOptions="Center">
                                <Label Text="{Binding MainUser.ScoreAvg, StringFormat='{0:F2}'}" HorizontalOptions="Center" TextColor="{StaticResource CustomPurpleLight}"/>
                                <Label Text="Score" FontSize="Default" HorizontalOptions="Center"/>
                            </VerticalStackLayout>
                            <VerticalStackLayout Grid.Column="1" Grid.Row="0" HorizontalOptions="Center">
                                <Label Text="{Binding MainUser.HighrunAvg, StringFormat='{0:F2}'}" HorizontalOptions="Center" TextColor="{StaticResource CustomPurpleLight}"/>
                                <Label Text="Hoogste reeks" FontSize="Default" HorizontalOptions="Center"/>
                            </VerticalStackLayout>
                        </Grid>
                    </Border>
                    <Label Text="Records" FontAttributes="Bold" FontSize="Medium" Margin="0,10,0,0"/>
                    <Border Padding="8">
                        <Grid ColumnDefinitions="*, *" RowDefinitions="Auto">
                            <VerticalStackLayout Grid.Column="0" Grid.Row="0" HorizontalOptions="Center">
                                <Label Text="{Binding MainUser.ScoreRecord}" HorizontalOptions="Center" TextColor="{StaticResource CustomPurpleLight}"/>
                                <Label Text="Score" FontSize="Default" HorizontalOptions="Center"/>
                            </VerticalStackLayout>
                            <VerticalStackLayout Grid.Column="1" Grid.Row="0" HorizontalOptions="Center">
                                <Label Text="{Binding MainUser.HighrunRecord}" HorizontalOptions="Center" TextColor="{StaticResource CustomPurpleLight}"/>
                                <Label Text="Hoogste reeks" FontSize="Default" HorizontalOptions="Center"/>
                            </VerticalStackLayout>
                        </Grid>
                    </Border>

                    <Label Text="Account" FontAttributes="Bold" FontSize="Medium" Margin="0,10,0,0"/>
                    <Border Padding="8">
                        <Grid ColumnDefinitions="*, *" RowDefinitions="Auto">
                            <VerticalStackLayout Grid.Column="0" Grid.Row="0" HorizontalOptions="Center">
                                <Button Grid.Row="1" Text="Uitloggen" x:DataType="{x:Null}" StyleClass="TextButton" BackgroundColor="Transparent"
                                Command="{Binding BindingContext.LogoutCommand,
                                    Source={x:Reference thisPage}}"
                                CommandParameter="{Binding .}">
                                    <Button.ImageSource>
                                        <FontImageSource FontFamily="FASolid" Size="18" Glyph="{x:Static fa:Solid.RightFromBracket}" Color="White"/>
                                    </Button.ImageSource>
                                </Button>
                            </VerticalStackLayout>
                        </Grid>
                    </Border>

                </VerticalStackLayout>
            </ScrollView>
            <navigation:AuthNavBar Grid.Row="1" ActiveTab="UserStats"/>
        </Grid>
    </ContentPage.Content>
</ContentPage>